<h2 id="цель-лабораторной-работы">Цель лабораторной работы</h2>
<ul>
<li>Изучение механизмов изменения идентификаторов, применения SetUID- и
Sticky-битов. Получение практических навыков работы в консоли с
дополнительными атрибутами. Рассмотрение работы механизма смены
идентификатора процессов пользователей, а также влияние бита Sticky на
запись и удаление файлов</li>
</ul>
<h2 id="теоретическая-справка-1">Теоретическая справка (1)</h2>
<p><strong>1. Дополнительные атрибуты файлов Linux</strong></p>
<p>В Linux существует три основных вида прав — право на чтение (read),
запись (write) и выполнение (execute), а также три категории
пользователей, к которым они могут применяться — владелец файла (user),
группа владельца (group) и все остальные (others). Но, кроме прав
чтения, выполнения и записи, есть еще три дополнительных атрибута.
[1]</p>
<h2 id="теоретическая-справка-2">Теоретическая справка (2)</h2>
<p><strong>2. Компилятор GCC</strong></p>
<p>GСС - это свободно доступный оптимизирующий компилятор для языков C,
C++. Собственно программа gcc это некоторая надстройка над группой
компиляторов, которая способна анализировать имена файлов, передаваемые
ей в качестве аргументов, и определять, какие действия необходимо
выполнить. Файлы с расширением .cc или .C рассматриваются, как файлы на
языке C++, файлы с расширением .c как программы на языке C, а файлы c
расширением .o считаются объектными. [2]</p>
<h1 id="ход-выполнения-лабораторной-работы">Ход выполнения лабораторной
работы</h1>
<h2 id="подготовка-лабораторного-стенда">5.2.1. Подготовка лабораторного
стенда</h2>
<figure id="fig:001">
<img src="image/image1.PNG" style="width:70.0%;height:70.0%"
alt="(рис. 1. Установка gss)" />
<figcaption aria-hidden="true">(рис. 1. Установка gss)</figcaption>
</figure>
<h2 id="создание-программы">5.3.1 Создание программы</h2>
<p>Создали программу simpleid.c</p>
<figure id="fig:002">
<img src="image/image2.PNG" style="width:70.0%;height:70.0%"
alt="(рис. 2. simpleid.c)" />
<figcaption aria-hidden="true">(рис. 2. simpleid.c)</figcaption>
</figure>
<h2 id="создание-программы-1">5.3.1 Создание программы</h2>
<p>Скомплилировали и выполнили программу simpleid. Затем выполнили
системную программу id и сравнили полученные результаты</p>
<figure id="fig:003">
<img src="image/image3.PNG" style="width:70.0%;height:70.0%"
alt="(рис. 3. 3-5 пункты задания лабораторной)" />
<figcaption aria-hidden="true">(рис. 3. 3-5 пункты задания
лабораторной)</figcaption>
</figure>
<h2 id="создание-программы-2">5.3.1 Создание программы</h2>
<p>Усложнили программу, добавив вывод действительных идентификаторов</p>
<figure id="fig:004">
<img src="image/image4.PNG" style="width:70.0%;height:70.0%"
alt="(рис. 4. simpleid2.c)" />
<figcaption aria-hidden="true">(рис. 4. simpleid2.c)</figcaption>
</figure>
<h2 id="создание-программы-3">5.3.1 Создание программы</h2>
<p>Скомплилировали и выполнили программу simpleid2</p>
<figure id="fig:005">
<img src="image/image5.PNG" style="width:70.0%;height:70.0%"
alt="(рис. 5. 7 пункт задания лабораторной)" />
<figcaption aria-hidden="true">(рис. 5. 7 пункт задания
лабораторной)</figcaption>
</figure>
<h2 id="создание-программы-4">5.3.1 Создание программы</h2>
<p>От имени суперпользователя выполнили команды и проверили правильность
установки новых атрибутов и смены владельца файла. Запустили simpleid2 и
id. Сравнили результаты. Проделали то же самое относительно
SetGID-бита</p>
<figure id="fig:006">
<img src="image/image6.PNG" style="width:70.0%;height:70.0%"
alt="(рис. 6. 8-12 пункты задания лабораторной)" />
<figcaption aria-hidden="true">(рис. 6. 8-12 пункты задания
лабораторной)</figcaption>
</figure>
<h2 id="создание-программы-5">5.3.1 Создание программы</h2>
<p>Скомплилировали программу readfile.c</p>
<figure id="fig:007">
<img src="image/image7.PNG" style="width:70.0%;height:70.0%"
alt="(рис. 7. readfile.c)" />
<figcaption aria-hidden="true">(рис. 7. readfile.c)</figcaption>
</figure>
<h2 id="создание-программы-6">5.3.1 Создание программы</h2>
<p>Сменили владельца у файла и изменили права так, чтобы только
суперпользователь мог прочитать его, a guest не мог</p>
<figure id="fig:008">
<img src="image/image8.PNG" style="width:70.0%;height:70.0%"
alt="(рис. 8. chmod)" />
<figcaption aria-hidden="true">(рис. 8. chmod)</figcaption>
</figure>
<h2 id="создание-программы-7">5.3.1 Создание программы</h2>
<p>Проверили, что guest не может прочитать файл. Сменили у программы
readfile владельца и установили SetU’D-бит. Проверили, может ли
программа readfile прочитать файл readfile.c, файл /etc/shadow</p>
<figure id="fig:009">
<img src="image/image9.PNG" style="width:70.0%;height:70.0%"
alt="(рис. 9. 16-19 пункты Guest)" />
<figcaption aria-hidden="true">(рис. 9. 16-19 пункты Guest)</figcaption>
</figure>
<h2 id="создание-программы-8">5.3.1 Создание программы</h2>
<p>От имени суперпользователя все предыдущие команды удается
выполнить</p>
<figure id="fig:010">
<img src="image/image10.PNG" style="width:70.0%;height:70.0%"
alt="(рис. 10. 16-18 пункты суперпользователь)" />
<figcaption aria-hidden="true">(рис. 10. 16-18 пункты
суперпользователь)</figcaption>
</figure>
<h2 id="исследование-sticky-бита">5.3.2. Исследование Sticky-бита</h2>
<p>Выяснили, установлен ли атрибут Sticky на директории /tmp, создали
файл file01.txt со словом test. Просмотрели атрибуты у только что
созданного файла и разрешили чтение и запись для категории пользователей
«все остальные»</p>
<figure id="fig:012">
<img src="image/image12.PNG" style="width:70.0%;height:70.0%"
alt="(рис. 12. 1-3 пункты)" />
<figcaption aria-hidden="true">(рис. 12. 1-3 пункты)</figcaption>
</figure>
<h2 id="исследование-sticky-бита-1">5.3.2. Исследование Sticky-бита</h2>
<p>От guest2 попробовали прочесть файл, дозаписать слово test2, затем
записать слово test3, стерев при этом всю имеющуюся в файле информацию.
Попробовали удалить файл. Этого сделать не удалось.</p>
<p>Повысили свои права до суперпользователя и сняли атрибут t с
директории /tmp. От guest2 проверили, что атрибута t у директории /tmp
нет</p>
<figure id="fig:013">
<img src="image/image13.PNG" style="width:70.0%;height:70.0%"
alt="(рис. 13. 4-12 пункты)" />
<figcaption aria-hidden="true">(рис. 13. 4-12 пункты)</figcaption>
</figure>
<h2 id="исследование-sticky-бита-2">5.3.2. Исследование Sticky-бита</h2>
<p>Повторили предыдущие шаги. При повторении всё получилось. Удалось
удалить файл от имени пользователя, не являющегося его владельцем.</p>
<p>Повысили свои права до суперпользователя и вернули атрибут t на
директорию /tmp</p>
<figure id="fig:015">
<img src="image/image15.PNG" style="width:70.0%;height:70.0%"
alt="(рис. 15. Возвращение атрибута)" />
<figcaption aria-hidden="true">(рис. 15. Возвращение
атрибута)</figcaption>
</figure>
<h1 id="вывод">Вывод</h1>
<h2 id="вывод-1">Вывод</h2>
<ul>
<li>Были изучены механизмы изменения идентификаторов и применения
SetUID- и Sticky-битов. Получены практические навыки работы в консоли с
дополнительными атрибутами. Были рассмотрены работа механизма смены
идентификатора процессов пользователей, а также влияние бита Sticky на
запись и удаление файлов</li>
</ul>
